services:
  dev:
    extends:
      file: ../shared/compose-dev.yaml
      service: dev
    build:
      context: .
      dockerfile: Dockerfile
    volumes:
      - repos:/repos
      - gradle-cache:/root/.gradle
      - gh-auth:/root/.config/gh
      - opencode-config:/root/.config/opencode
    environment:
      - ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY:-}

networks:
  proxy-net:
    external: true
    name: proxy-net

volumes:
  repos:
  gradle-cache:
  gh-auth:
  opencode-config:
